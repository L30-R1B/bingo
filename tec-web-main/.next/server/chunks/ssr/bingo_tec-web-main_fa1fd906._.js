module.exports=[12141,a=>{"use strict";a.s(["default",()=>c]);var b=a.i(50700);function c({children:a,onClick:c,type:d="button",variant:e="primary",disabled:f=!1,className:g=""}){return(0,b.jsx)("button",{type:d,onClick:c,disabled:f,className:`
        ${(()=>{switch(e){case"primary":return`
        bg-[#1B6F09]
        text-[#E2F67E]
        hover:bg-[#bef264]
        hover:text-[#1B6F09]
        font-[var(--font-baloo-bhaijaan)]
        font-bold
        text-xl
        py-[10px]
        px-[20px]
        rounded-full
        transition-all
        duration-200
  `;case"secondary":return`
          bg-[#4d7c0f]
          text-[#ecfccb]
          hover:bg-[#3f621c]
          py-3
          px-8
          text-lg
          font-[var(--font-baloo-bhaijaan)]
          rounded-full
        `;default:return`
          bg-[#E2F67E]
          text-[#1b6f09]
          hover:bg-[#bef264]
          py-3
          px-8
          text-lg
          font-[var(--font-baloo-bhaijaan)]
          rounded-full
        `}})()}
        ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${g}
      `,children:a})}},96448,(a,b,c)=>{b.exports=a.r(53269)},18710,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(50700),c=a.i(43047),d=a.i(12141),e=a.i(96448);let f="http://100.124.95.109:3333";function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)({nome:"",descricao:""}),[v,w]=(0,c.useState)(null),x=(0,e.useRouter)();(0,c.useEffect)(()=>{let a=localStorage.getItem("bingoToken");w(a),(async()=>{if(!a){window.location.href="/login";return}try{let b=await fetch(`${f}/auth/profile`,{method:"GET",headers:{Authorization:`Bearer ${a}`}});if(b.ok){if(!(await b.json()).is_admin){window.location.href="/rooms";return}}else{window.location.href="/login";return}await y(a)}catch(a){console.error("Erro:",a),k("Erro ao carregar dados.")}finally{i(!1)}})()},[]);let y=async a=>{try{let b=await fetch(`${f}/rooms`,{method:"GET",headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();g(a)}else k("Erro ao carregar salas.")}catch(a){k("Erro ao carregar salas.")}},z=async()=>{if(r&&v)try{(await fetch(`${f}/rooms/${r.id_sala}`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`}})).ok?(g(a.filter(a=>a.id_sala!==r.id_sala)),q(!1),s(null)):alert("Erro ao excluir sala.")}catch(a){alert("Erro ao excluir sala.")}},A=async a=>{if(a.preventDefault(),v)try{let a=l?`${f}/rooms/${l.id_sala}`:`${f}/rooms`,b=l?"PATCH":"POST",c=await fetch(a,{method:b,headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(t)});if(c.ok)o(!1),await y(v);else{let a=await c.json();alert(a.message||"Erro ao salvar sala.")}}catch(a){alert("Erro ao salvar sala.")}};return h?(0,b.jsx)("div",{children:"Carregando..."}):(0,b.jsxs)("div",{className:"page-container",children:[(0,b.jsx)("header",{children:(0,b.jsx)("nav",{className:"navbar",children:(0,b.jsxs)("div",{className:"navbar-content",style:{width:"100%"},children:[(0,b.jsx)("img",{src:"/bingo-logo.png",alt:"logo",className:"navbar-logo"}),(0,b.jsx)("div",{className:"navbar-links",children:(0,b.jsx)("a",{className:"nav-links",children:"Gerenciar Salas"})}),(0,b.jsxs)("div",{style:{marginLeft:"auto",paddingRight:"40px",display:"flex",gap:"10px"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{x.push("/admin")},children:"Voltar ao Painel"}),(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{localStorage.removeItem("bingoToken"),window.location.href="/login"},children:"Sair"})]})]})})}),(0,b.jsxs)("main",{style:{padding:"20px"},children:[(0,b.jsx)("h1",{className:"title",children:"Gerenciar Salas"}),(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{m(null),u({nome:"",descricao:""}),o(!0)},style:{marginBottom:"20px"},children:"Criar Sala"}),n&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)"},children:[(0,b.jsx)("h2",{style:{color:"white",marginBottom:"20px",textAlign:"center",fontSize:"1.5em"},children:l?"Editar Sala":"Criar Nova Sala"}),(0,b.jsxs)("form",{onSubmit:A,children:[(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Nome da Sala:"}),(0,b.jsx)("input",{type:"text",value:t.nome,onChange:a=>u({...t,nome:a.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o nome da sala"})]}),(0,b.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,b.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Descrição:"}),(0,b.jsx)("textarea",{value:t.descricao,onChange:a=>u({...t,descricao:a.target.value}),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px",minHeight:"100px",resize:"vertical"},placeholder:"Digite a descrição da sala (opcional)"})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,b.jsxs)(d.default,{type:"submit",variant:"primary",style:{backgroundColor:"#4a752c",border:"none",padding:"12px 24px",fontSize:"16px"},children:[l?"Atualizar":"Criar"," Sala"]}),(0,b.jsx)(d.default,{type:"button",variant:"secondary",onClick:()=>o(!1),style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})]})}),p&&r&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"400px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)",textAlign:"center"},children:[(0,b.jsx)("h3",{style:{color:"white",marginBottom:"15px",fontSize:"1.3em"},children:"Confirmar Exclusão"}),(0,b.jsxs)("p",{style:{color:"white",marginBottom:"25px",fontSize:"16px",lineHeight:"1.5"},children:["Tem certeza que deseja excluir a sala",(0,b.jsx)("br",{}),(0,b.jsxs)("strong",{children:['"',r.nome,'"']}),"?"]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:z,style:{backgroundColor:"#d32f2f",border:"none",padding:"12px 24px",fontSize:"16px"},children:"Confirmar Exclusão"}),(0,b.jsx)(d.default,{variant:"secondary",onClick:()=>{q(!1),s(null)},style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})}),j&&(0,b.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:j}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginTop:"20px"},children:a.map(a=>(0,b.jsxs)("div",{style:{backgroundColor:"#1a5f1a",padding:"25px",borderRadius:"12px",color:"white",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",gap:"15px",border:"2px solid #2d7a2d",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"pointer"},onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-5px)",a.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.4)"},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},children:[(0,b.jsx)("h3",{style:{margin:0,fontSize:"1.3em",textAlign:"center",fontWeight:"bold"},children:a.nome}),a.descricao&&(0,b.jsx)("p",{style:{margin:0,opacity:.9,textAlign:"center",lineHeight:"1.4"},children:a.descricao}),(0,b.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"auto",justifyContent:"center"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{m(a),u({nome:a.nome,descricao:a.descricao||""}),o(!0)},style:{backgroundColor:"#4a752c",color:"white",border:"none",padding:"10px 16px",borderRadius:"6px",fontSize:"14px"},children:"Editar"}),(0,b.jsx)(d.default,{variant:"secondary",onClick:()=>{s(a),q(!0)},style:{backgroundColor:"transparent",color:"#ff6b6b",border:"1px solid #ff6b6b",padding:"10px 16px",borderRadius:"6px",fontSize:"14px"},children:"Excluir"})]})]},a.id_sala))}),0===a.length&&!h&&(0,b.jsx)("div",{style:{textAlign:"center",color:"#666",marginTop:"50px",fontSize:"18px"},children:'Nenhuma sala cadastrada. Clique em "Criar Sala" para adicionar a primeira.'})]})]})}}];

//# sourceMappingURL=bingo_tec-web-main_fa1fd906._.js.map