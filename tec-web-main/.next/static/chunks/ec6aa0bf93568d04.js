(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49200,e=>{"use strict";e.s(["default",()=>r]);var a=e.i(48564);function r(e){let{children:r,onClick:t,type:o="button",variant:n="primary",disabled:i=!1,className:l=""}=e;return(0,a.jsx)("button",{type:o,onClick:t,disabled:i,className:"\n        ".concat((()=>{switch(n){case"primary":return"\n        bg-[#1B6F09]\n        text-[#E2F67E]\n        hover:bg-[#bef264]\n        hover:text-[#1B6F09]\n        font-[var(--font-baloo-bhaijaan)]\n        font-bold\n        text-xl\n        py-[10px]\n        px-[20px]\n        rounded-full\n        transition-all\n        duration-200\n  ";case"secondary":return"\n          bg-[#4d7c0f]\n          text-[#ecfccb]\n          hover:bg-[#3f621c]\n          py-3\n          px-8\n          text-lg\n          font-[var(--font-baloo-bhaijaan)]\n          rounded-full\n        ";default:return"\n          bg-[#E2F67E]\n          text-[#1b6f09]\n          hover:bg-[#bef264]\n          py-3\n          px-8\n          text-lg\n          font-[var(--font-baloo-bhaijaan)]\n          rounded-full\n        "}})(),"\n        ").concat(i?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat(l,"\n      "),children:r})}},48662,(e,a,r)=>{a.exports=e.r(28158)},72616,e=>{"use strict";e.s(["default",()=>i]);var a=e.i(48564),r=e.i(16542),t=e.i(49200),o=e.i(48662);let n="http://100.124.95.109:3333";function i(){let[e,i]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[d,c]=(0,r.useState)(""),[x,p]=(0,r.useState)(null),[h,u]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[m,b]=(0,r.useState)(null),[y,j]=(0,r.useState)({nome:"",descricao:""}),[v,C]=(0,r.useState)(null),S=(0,o.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("bingoToken");C(e),(async()=>{if(!e){window.location.href="/login";return}try{let a=await fetch("".concat(n,"/auth/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){if(!(await a.json()).is_admin){window.location.href="/rooms";return}}else{window.location.href="/login";return}await w(e)}catch(e){console.error("Erro:",e),c("Erro ao carregar dados.")}finally{s(!1)}})()},[]);let w=async e=>{try{let a=await fetch("".concat(n,"/rooms"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();i(e)}else c("Erro ao carregar salas.")}catch(e){c("Erro ao carregar salas.")}},k=async()=>{if(m&&v)try{(await fetch("".concat(n,"/rooms/").concat(m.id_sala),{method:"DELETE",headers:{Authorization:"Bearer ".concat(v)}})).ok?(i(e.filter(e=>e.id_sala!==m.id_sala)),f(!1),b(null)):alert("Erro ao excluir sala.")}catch(e){alert("Erro ao excluir sala.")}},E=async e=>{if(e.preventDefault(),v)try{let e=x?"".concat(n,"/rooms/").concat(x.id_sala):"".concat(n,"/rooms"),a=x?"PATCH":"POST",r=await fetch(e,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify(y)});if(r.ok)u(!1),await w(v);else{let e=await r.json();alert(e.message||"Erro ao salvar sala.")}}catch(e){alert("Erro ao salvar sala.")}};return l?(0,a.jsx)("div",{children:"Carregando..."}):(0,a.jsxs)("div",{className:"page-container",children:[(0,a.jsx)("header",{children:(0,a.jsx)("nav",{className:"navbar",children:(0,a.jsxs)("div",{className:"navbar-content",style:{width:"100%"},children:[(0,a.jsx)("img",{src:"/bingo-logo.png",alt:"logo",className:"navbar-logo"}),(0,a.jsx)("div",{className:"navbar-links",children:(0,a.jsx)("a",{className:"nav-links",children:"Gerenciar Salas"})}),(0,a.jsxs)("div",{style:{marginLeft:"auto",paddingRight:"40px",display:"flex",gap:"10px"},children:[(0,a.jsx)(t.default,{variant:"primary",onClick:()=>{S.push("/admin")},children:"Voltar ao Painel"}),(0,a.jsx)(t.default,{variant:"primary",onClick:()=>{localStorage.removeItem("bingoToken"),window.location.href="/login"},children:"Sair"})]})]})})}),(0,a.jsxs)("main",{style:{padding:"20px"},children:[(0,a.jsx)("h1",{className:"title",children:"Gerenciar Salas"}),(0,a.jsx)(t.default,{variant:"primary",onClick:()=>{p(null),j({nome:"",descricao:""}),u(!0)},style:{marginBottom:"20px"},children:"Criar Sala"}),h&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,a.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)"},children:[(0,a.jsx)("h2",{style:{color:"white",marginBottom:"20px",textAlign:"center",fontSize:"1.5em"},children:x?"Editar Sala":"Criar Nova Sala"}),(0,a.jsxs)("form",{onSubmit:E,children:[(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Nome da Sala:"}),(0,a.jsx)("input",{type:"text",value:y.nome,onChange:e=>j({...y,nome:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o nome da sala"})]}),(0,a.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,a.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Descrição:"}),(0,a.jsx)("textarea",{value:y.descricao,onChange:e=>j({...y,descricao:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px",minHeight:"100px",resize:"vertical"},placeholder:"Digite a descrição da sala (opcional)"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,a.jsxs)(t.default,{type:"submit",variant:"primary",style:{backgroundColor:"#4a752c",border:"none",padding:"12px 24px",fontSize:"16px"},children:[x?"Atualizar":"Criar"," Sala"]}),(0,a.jsx)(t.default,{type:"button",variant:"secondary",onClick:()=>u(!1),style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})]})}),g&&m&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,a.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"400px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)",textAlign:"center"},children:[(0,a.jsx)("h3",{style:{color:"white",marginBottom:"15px",fontSize:"1.3em"},children:"Confirmar Exclusão"}),(0,a.jsxs)("p",{style:{color:"white",marginBottom:"25px",fontSize:"16px",lineHeight:"1.5"},children:["Tem certeza que deseja excluir a sala",(0,a.jsx)("br",{}),(0,a.jsxs)("strong",{children:['"',m.nome,'"']}),"?"]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,a.jsx)(t.default,{variant:"primary",onClick:k,style:{backgroundColor:"#d32f2f",border:"none",padding:"12px 24px",fontSize:"16px"},children:"Confirmar Exclusão"}),(0,a.jsx)(t.default,{variant:"secondary",onClick:()=>{f(!1),b(null)},style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})}),d&&(0,a.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:d}),(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginTop:"20px"},children:e.map(e=>(0,a.jsxs)("div",{style:{backgroundColor:"#1a5f1a",padding:"25px",borderRadius:"12px",color:"white",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",gap:"15px",border:"2px solid #2d7a2d",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},children:[(0,a.jsx)("h3",{style:{margin:0,fontSize:"1.3em",textAlign:"center",fontWeight:"bold"},children:e.nome}),e.descricao&&(0,a.jsx)("p",{style:{margin:0,opacity:.9,textAlign:"center",lineHeight:"1.4"},children:e.descricao}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"auto",justifyContent:"center"},children:[(0,a.jsx)(t.default,{variant:"primary",onClick:()=>{p(e),j({nome:e.nome,descricao:e.descricao||""}),u(!0)},style:{backgroundColor:"#4a752c",color:"white",border:"none",padding:"10px 16px",borderRadius:"6px",fontSize:"14px"},children:"Editar"}),(0,a.jsx)(t.default,{variant:"secondary",onClick:()=>{b(e),f(!0)},style:{backgroundColor:"transparent",color:"#ff6b6b",border:"1px solid #ff6b6b",padding:"10px 16px",borderRadius:"6px",fontSize:"14px"},children:"Excluir"})]})]},e.id_sala))}),0===e.length&&!l&&(0,a.jsx)("div",{style:{textAlign:"center",color:"#666",marginTop:"50px",fontSize:"18px"},children:'Nenhuma sala cadastrada. Clique em "Criar Sala" para adicionar a primeira.'})]})]})}}]);