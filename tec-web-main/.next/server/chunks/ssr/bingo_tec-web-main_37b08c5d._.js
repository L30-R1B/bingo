module.exports=[12141,a=>{"use strict";a.s(["default",()=>c]);var b=a.i(50700);function c({children:a,onClick:c,type:d="button",variant:e="primary",disabled:f=!1,className:g=""}){return(0,b.jsx)("button",{type:d,onClick:c,disabled:f,className:`
        ${(()=>{switch(e){case"primary":return`
        bg-[#1B6F09]
        text-[#E2F67E]
        hover:bg-[#bef264]
        hover:text-[#1B6F09]
        font-[var(--font-baloo-bhaijaan)]
        font-bold
        text-xl
        py-[10px]
        px-[20px]
        rounded-full
        transition-all
        duration-200
  `;case"secondary":return`
          bg-[#4d7c0f]
          text-[#ecfccb]
          hover:bg-[#3f621c]
          py-3
          px-8
          text-lg
          font-[var(--font-baloo-bhaijaan)]
          rounded-full
        `;default:return`
          bg-[#E2F67E]
          text-[#1b6f09]
          hover:bg-[#bef264]
          py-3
          px-8
          text-lg
          font-[var(--font-baloo-bhaijaan)]
          rounded-full
        `}})()}
        ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${g}
      `,children:a})}},96448,(a,b,c)=>{b.exports=a.r(53269)},10708,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(50700),c=a.i(43047),d=a.i(12141),e=a.i(96448);let f="http://100.124.95.109:3333";function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)({nome:"",email:"",senha:"",is_admin:!1}),[v,w]=(0,c.useState)(null),x=(0,e.useRouter)();(0,c.useEffect)(()=>{let a=localStorage.getItem("bingoToken");w(a),(async()=>{if(!a){window.location.href="/login";return}try{let b=await fetch(`${f}/auth/profile`,{method:"GET",headers:{Authorization:`Bearer ${a}`}});if(b.ok){if(!(await b.json()).is_admin){window.location.href="/rooms";return}}else{window.location.href="/login";return}await y(a)}catch(a){console.error("Erro:",a),k("Erro ao carregar dados.")}finally{i(!1)}})()},[]);let y=async a=>{try{let b=await fetch(`${f}/users`,{method:"GET",headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=(await b.json()).map(a=>({...a,creditos:Number(a.creditos)||0}));g(a)}else k("Erro ao carregar usuários.")}catch(a){k("Erro ao carregar usuários.")}},z=async()=>{if(r&&v)try{let b=await fetch(`${f}/users/${r.id_usuario}`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`}});if(b.ok)g(a.filter(a=>a.id_usuario!==r.id_usuario)),q(!1),s(null);else{let a=await b.json();alert(a.message||"Erro ao excluir usuário.")}}catch(a){alert("Erro ao excluir usuário.")}},A=async a=>{if(a.preventDefault(),v)try{let a,b,c;l?(a=`${f}/users/${l.id_usuario}`,b="PATCH",c={nome:t.nome,email:t.email,is_admin:t.is_admin},t.senha&&(c.senha=t.senha)):(a=`${f}/users`,b="POST",c={nome:t.nome,email:t.email,senha:t.senha,is_admin:t.is_admin});let d=await fetch(a,{method:b,headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(c)});if(d.ok)o(!1),await y(v);else{let a=await d.json();alert(a.message||"Erro ao salvar usuário.")}}catch(a){alert("Erro ao salvar usuário.")}};return h?(0,b.jsx)("div",{children:"Carregando..."}):(0,b.jsxs)("div",{className:"page-container",children:[(0,b.jsx)("header",{children:(0,b.jsx)("nav",{className:"navbar",children:(0,b.jsxs)("div",{className:"navbar-content",style:{width:"100%"},children:[(0,b.jsx)("img",{src:"/bingo-logo.png",alt:"logo",className:"navbar-logo"}),(0,b.jsx)("div",{className:"navbar-links",children:(0,b.jsx)("a",{className:"nav-links",children:"Gerenciar Usuários"})}),(0,b.jsxs)("div",{style:{marginLeft:"auto",paddingRight:"40px",display:"flex",gap:"10px"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{x.push("/admin")},children:"Voltar ao Painel"}),(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{localStorage.removeItem("bingoToken"),window.location.href="/login"},children:"Sair"})]})]})})}),(0,b.jsxs)("main",{style:{padding:"20px"},children:[(0,b.jsx)("h1",{className:"title",children:"Gerenciar Usuários"}),(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{m(null),u({nome:"",email:"",senha:"",is_admin:!1}),o(!0)},style:{marginBottom:"20px"},children:"Criar Usuário"}),n&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)"},children:[(0,b.jsx)("h2",{style:{color:"white",marginBottom:"20px",textAlign:"center",fontSize:"1.5em"},children:l?"Editar Usuário":"Criar Novo Usuário"}),(0,b.jsxs)("form",{onSubmit:A,children:[(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Nome:"}),(0,b.jsx)("input",{type:"text",value:t.nome,onChange:a=>u({...t,nome:a.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o nome do usuário"})]}),(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"E-mail:"}),(0,b.jsx)("input",{type:"email",value:t.email,onChange:a=>u({...t,email:a.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o e-mail do usuário"})]}),(0,b.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,b.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Senha:"}),(0,b.jsx)("input",{type:"password",value:t.senha,onChange:a=>u({...t,senha:a.target.value}),placeholder:l?"Deixe em branco para não alterar":"Digite a senha",required:!l,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"}})]}),(0,b.jsx)("div",{style:{marginBottom:"25px"},children:(0,b.jsxs)("label",{style:{color:"white",display:"flex",alignItems:"center",gap:"10px",fontWeight:"bold"},children:[(0,b.jsx)("input",{type:"checkbox",checked:t.is_admin,onChange:a=>u({...t,is_admin:a.target.checked}),style:{width:"18px",height:"18px"}}),"Administrador"]})}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,b.jsxs)(d.default,{type:"submit",variant:"primary",style:{backgroundColor:"#4a752c",border:"none",padding:"12px 24px",fontSize:"16px"},children:[l?"Atualizar":"Criar"," Usuário"]}),(0,b.jsx)(d.default,{type:"button",variant:"secondary",onClick:()=>o(!1),style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})]})}),p&&r&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"400px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)",textAlign:"center"},children:[(0,b.jsx)("h3",{style:{color:"white",marginBottom:"15px",fontSize:"1.3em"},children:"Confirmar Exclusão"}),(0,b.jsxs)("p",{style:{color:"white",marginBottom:"25px",fontSize:"16px",lineHeight:"1.5"},children:["Tem certeza que deseja excluir o usuário",(0,b.jsx)("br",{}),(0,b.jsxs)("strong",{children:['"',r.nome,'"']}),"?"]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:z,style:{backgroundColor:"#d32f2f",border:"none",padding:"12px 24px",fontSize:"16px"},children:"Confirmar Exclusão"}),(0,b.jsx)(d.default,{variant:"secondary",onClick:()=>{q(!1),s(null)},style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})}),j&&(0,b.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:j}),(0,b.jsx)("div",{style:{backgroundColor:"#1a5f1a",borderRadius:"12px",padding:"20px",marginTop:"20px",overflowX:"auto"},children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"ID"}),(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Nome"}),(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"E-mail"}),(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Admin"}),(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Créditos"}),(0,b.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Ações"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{style:{backgroundColor:a.id_usuario%2==0?"#1a5f1a":"#2d5016",transition:"background-color 0.2s ease"},children:[(0,b.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:a.id_usuario}),(0,b.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:a.nome}),(0,b.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:a.email}),(0,b.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:a.is_admin?(0,b.jsx)("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:"Sim"}):(0,b.jsx)("span",{style:{color:"#ff6b6b"},children:"Não"})}),(0,b.jsxs)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:["R$ ",Number(a.creditos||0).toFixed(2)]}),(0,b.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:(0,b.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,b.jsx)(d.default,{variant:"primary",onClick:()=>{m(a),u({nome:a.nome,email:a.email,senha:"",is_admin:a.is_admin}),o(!0)},style:{backgroundColor:"#4a752c",color:"white",border:"none",padding:"8px 12px",borderRadius:"6px",fontSize:"14px"},children:"Editar"}),(0,b.jsx)(d.default,{variant:"secondary",onClick:()=>{s(a),q(!0)},style:{backgroundColor:"transparent",color:"#ff6b6b",border:"1px solid #ff6b6b",padding:"8px 12px",borderRadius:"6px",fontSize:"14px"},children:"Excluir"})]})})]},a.id_usuario))})]})}),0===a.length&&!h&&(0,b.jsx)("div",{style:{textAlign:"center",color:"#666",marginTop:"50px",fontSize:"18px"},children:"Nenhum usuário cadastrado."})]})]})}}];

//# sourceMappingURL=bingo_tec-web-main_37b08c5d._.js.map