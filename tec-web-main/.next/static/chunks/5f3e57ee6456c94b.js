(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49200,e=>{"use strict";e.s(["default",()=>o]);var r=e.i(48564);function o(e){let{children:o,onClick:a,type:i="button",variant:t="primary",disabled:n=!1,className:l=""}=e;return(0,r.jsx)("button",{type:i,onClick:a,disabled:n,className:"\n        ".concat((()=>{switch(t){case"primary":return"\n        bg-[#1B6F09]\n        text-[#E2F67E]\n        hover:bg-[#bef264]\n        hover:text-[#1B6F09]\n        font-[var(--font-baloo-bhaijaan)]\n        font-bold\n        text-xl\n        py-[10px]\n        px-[20px]\n        rounded-full\n        transition-all\n        duration-200\n  ";case"secondary":return"\n          bg-[#4d7c0f]\n          text-[#ecfccb]\n          hover:bg-[#3f621c]\n          py-3\n          px-8\n          text-lg\n          font-[var(--font-baloo-bhaijaan)]\n          rounded-full\n        ";default:return"\n          bg-[#E2F67E]\n          text-[#1b6f09]\n          hover:bg-[#bef264]\n          py-3\n          px-8\n          text-lg\n          font-[var(--font-baloo-bhaijaan)]\n          rounded-full\n        "}})(),"\n        ").concat(n?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat(l,"\n      "),children:o})}},48662,(e,r,o)=>{r.exports=e.r(28158)},47373,e=>{"use strict";e.s(["default",()=>n]);var r=e.i(48564),o=e.i(16542),a=e.i(49200),i=e.i(48662);let t="http://100.124.95.109:3333";function n(){let[e,n]=(0,o.useState)([]),[l,d]=(0,o.useState)(!0),[s,c]=(0,o.useState)(""),[x,p]=(0,o.useState)(null),[h,u]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1),[b,f]=(0,o.useState)(null),[y,j]=(0,o.useState)({nome:"",email:"",senha:"",is_admin:!1}),[v,C]=(0,o.useState)(null),w=(0,i.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("bingoToken");C(e),(async()=>{if(!e){window.location.href="/login";return}try{let r=await fetch("".concat(t,"/auth/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){if(!(await r.json()).is_admin){window.location.href="/rooms";return}}else{window.location.href="/login";return}await k(e)}catch(e){console.error("Erro:",e),c("Erro ao carregar dados.")}finally{d(!1)}})()},[]);let k=async e=>{try{let r=await fetch("".concat(t,"/users"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=(await r.json()).map(e=>({...e,creditos:Number(e.creditos)||0}));n(e)}else c("Erro ao carregar usuários.")}catch(e){c("Erro ao carregar usuários.")}},S=async()=>{if(b&&v)try{let r=await fetch("".concat(t,"/users/").concat(b.id_usuario),{method:"DELETE",headers:{Authorization:"Bearer ".concat(v)}});if(r.ok)n(e.filter(e=>e.id_usuario!==b.id_usuario)),m(!1),f(null);else{let e=await r.json();alert(e.message||"Erro ao excluir usuário.")}}catch(e){alert("Erro ao excluir usuário.")}},E=async e=>{if(e.preventDefault(),v)try{let e,r,o;x?(e="".concat(t,"/users/").concat(x.id_usuario),r="PATCH",o={nome:y.nome,email:y.email,is_admin:y.is_admin},y.senha&&(o.senha=y.senha)):(e="".concat(t,"/users"),r="POST",o={nome:y.nome,email:y.email,senha:y.senha,is_admin:y.is_admin});let a=await fetch(e,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify(o)});if(a.ok)u(!1),await k(v);else{let e=await a.json();alert(e.message||"Erro ao salvar usuário.")}}catch(e){alert("Erro ao salvar usuário.")}};return l?(0,r.jsx)("div",{children:"Carregando..."}):(0,r.jsxs)("div",{className:"page-container",children:[(0,r.jsx)("header",{children:(0,r.jsx)("nav",{className:"navbar",children:(0,r.jsxs)("div",{className:"navbar-content",style:{width:"100%"},children:[(0,r.jsx)("img",{src:"/bingo-logo.png",alt:"logo",className:"navbar-logo"}),(0,r.jsx)("div",{className:"navbar-links",children:(0,r.jsx)("a",{className:"nav-links",children:"Gerenciar Usuários"})}),(0,r.jsxs)("div",{style:{marginLeft:"auto",paddingRight:"40px",display:"flex",gap:"10px"},children:[(0,r.jsx)(a.default,{variant:"primary",onClick:()=>{w.push("/admin")},children:"Voltar ao Painel"}),(0,r.jsx)(a.default,{variant:"primary",onClick:()=>{localStorage.removeItem("bingoToken"),window.location.href="/login"},children:"Sair"})]})]})})}),(0,r.jsxs)("main",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{className:"title",children:"Gerenciar Usuários"}),(0,r.jsx)(a.default,{variant:"primary",onClick:()=>{p(null),j({nome:"",email:"",senha:"",is_admin:!1}),u(!0)},style:{marginBottom:"20px"},children:"Criar Usuário"}),h&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,r.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)"},children:[(0,r.jsx)("h2",{style:{color:"white",marginBottom:"20px",textAlign:"center",fontSize:"1.5em"},children:x?"Editar Usuário":"Criar Novo Usuário"}),(0,r.jsxs)("form",{onSubmit:E,children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Nome:"}),(0,r.jsx)("input",{type:"text",value:y.nome,onChange:e=>j({...y,nome:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o nome do usuário"})]}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"E-mail:"}),(0,r.jsx)("input",{type:"email",value:y.email,onChange:e=>j({...y,email:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"},placeholder:"Digite o e-mail do usuário"})]}),(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("label",{style:{color:"white",display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Senha:"}),(0,r.jsx)("input",{type:"password",value:y.senha,onChange:e=>j({...y,senha:e.target.value}),placeholder:x?"Deixe em branco para não alterar":"Digite a senha",required:!x,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"2px solid #4a752c",backgroundColor:"#1a3d0f",color:"white",fontSize:"16px"}})]}),(0,r.jsx)("div",{style:{marginBottom:"25px"},children:(0,r.jsxs)("label",{style:{color:"white",display:"flex",alignItems:"center",gap:"10px",fontWeight:"bold"},children:[(0,r.jsx)("input",{type:"checkbox",checked:y.is_admin,onChange:e=>j({...y,is_admin:e.target.checked}),style:{width:"18px",height:"18px"}}),"Administrador"]})}),(0,r.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,r.jsxs)(a.default,{type:"submit",variant:"primary",style:{backgroundColor:"#4a752c",border:"none",padding:"12px 24px",fontSize:"16px"},children:[x?"Atualizar":"Criar"," Usuário"]}),(0,r.jsx)(a.default,{type:"button",variant:"secondary",onClick:()=>u(!1),style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})]})}),g&&b&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,r.jsxs)("div",{style:{backgroundColor:"#2d5016",padding:"30px",borderRadius:"12px",width:"90%",maxWidth:"400px",border:"2px solid #4a752c",boxShadow:"0 8px 25px rgba(0,0,0,0.5)",textAlign:"center"},children:[(0,r.jsx)("h3",{style:{color:"white",marginBottom:"15px",fontSize:"1.3em"},children:"Confirmar Exclusão"}),(0,r.jsxs)("p",{style:{color:"white",marginBottom:"25px",fontSize:"16px",lineHeight:"1.5"},children:["Tem certeza que deseja excluir o usuário",(0,r.jsx)("br",{}),(0,r.jsxs)("strong",{children:['"',b.nome,'"']}),"?"]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,r.jsx)(a.default,{variant:"primary",onClick:S,style:{backgroundColor:"#d32f2f",border:"none",padding:"12px 24px",fontSize:"16px"},children:"Confirmar Exclusão"}),(0,r.jsx)(a.default,{variant:"secondary",onClick:()=>{m(!1),f(null)},style:{backgroundColor:"transparent",border:"2px solid #4a752c",color:"white",padding:"12px 24px",fontSize:"16px"},children:"Cancelar"})]})]})}),s&&(0,r.jsx)("div",{style:{color:"red",textAlign:"center",marginBottom:"20px"},children:s}),(0,r.jsx)("div",{style:{backgroundColor:"#1a5f1a",borderRadius:"12px",padding:"20px",marginTop:"20px",overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"ID"}),(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Nome"}),(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"E-mail"}),(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Admin"}),(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Créditos"}),(0,r.jsx)("th",{style:{border:"1px solid #2d7a2d",padding:"12px",textAlign:"left",backgroundColor:"#2d5016"},children:"Ações"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{style:{backgroundColor:e.id_usuario%2==0?"#1a5f1a":"#2d5016",transition:"background-color 0.2s ease"},children:[(0,r.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:e.id_usuario}),(0,r.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:e.nome}),(0,r.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:e.email}),(0,r.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:e.is_admin?(0,r.jsx)("span",{style:{color:"#4CAF50",fontWeight:"bold"},children:"Sim"}):(0,r.jsx)("span",{style:{color:"#ff6b6b"},children:"Não"})}),(0,r.jsxs)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:["R$ ",Number(e.creditos||0).toFixed(2)]}),(0,r.jsx)("td",{style:{border:"1px solid #2d7a2d",padding:"12px"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)(a.default,{variant:"primary",onClick:()=>{p(e),j({nome:e.nome,email:e.email,senha:"",is_admin:e.is_admin}),u(!0)},style:{backgroundColor:"#4a752c",color:"white",border:"none",padding:"8px 12px",borderRadius:"6px",fontSize:"14px"},children:"Editar"}),(0,r.jsx)(a.default,{variant:"secondary",onClick:()=>{f(e),m(!0)},style:{backgroundColor:"transparent",color:"#ff6b6b",border:"1px solid #ff6b6b",padding:"8px 12px",borderRadius:"6px",fontSize:"14px"},children:"Excluir"})]})})]},e.id_usuario))})]})}),0===e.length&&!l&&(0,r.jsx)("div",{style:{textAlign:"center",color:"#666",marginTop:"50px",fontSize:"18px"},children:"Nenhum usuário cadastrado."})]})]})}}]);